{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import { Random } from 'random-js';\nconst random = new Random();\n\nconst prizes = [\n  { symbol: '🪙', weight: 4 },\n  { symbol: '🍒', weight: 4 },\n  { symbol: '🍋', weight: 5 },\n  { symbol: '⭐', weight: 5 },\n  { symbol: '💵', weight: 3 },\n  { symbol: '7️⃣', weight: 1 },\n  { symbol: '🔔', weight: 6 },\n];\n\nconst slots = {\n  slot1: document.querySelector('.slot1'),\n  slot2: document.querySelector('.slot2'),\n  slot3: document.querySelector('.slot3'),\n};\nconst spinButton = document.querySelector('.spin-button');\nconst text = document.querySelector('.text');\n\nconst ranges = [];\nlet totalWeight = 0;\nfunction calcRanges() {\n  ranges.length = 0;\n  let acc = 0;\n\n  prizes.forEach(curr => {\n    const range = {\n      symbol: curr.symbol,\n      start: acc,\n      end: acc + curr.weight - 1,\n    };\n\n    ranges.push(range);\n    acc += curr.weight;\n  });\n\n  totalWeight = acc;\n\n  console.log(ranges);\n  console.log(totalWeight);\n}\n\ncalcRanges();\n\nspinButton.addEventListener('click', e => {\n  spinButton.setAttribute('disabled', '');\n  Object.keys(slots).forEach((slot, index) => {\n    setTimeout(() => {\n      slots[slot].textContent = getRandomSymbol();\n    }, 200 * index);\n  });\n\n  setTimeout(() => {\n    spinButton.removeAttribute('disabled', '');\n    setText();\n  }, 210 * 3);\n});\n\nfunction setText() {\n  const s1 = slots.slot1.textContent;\n  const s2 = slots.slot2.textContent;\n  const s3 = slots.slot3.textContent;\n\n  if (s1 === s2 && s2 === s3) {\n    text.textContent = 'You won!';\n  } else if (s1 === s2 || s2 === s3 || s1 === s3) {\n    text.textContent = 'So close!';\n  } else {\n    text.textContent = 'Better luck next time!';\n  }\n}\n\nfunction getRandomSymbol() {\n  const randomValue = random.integer(0, totalWeight - 1);\n  return ranges.find(\n    elem => elem.start <= randomValue && elem.end >= randomValue\n  ).symbol;\n}\n"],"names":["random","Random","prizes","slots","spinButton","text","ranges","totalWeight","calcRanges","acc","curr","range","e","slot","index","getRandomSymbol","setText","s1","s2","s3","randomValue","elem"],"mappings":"svBACA,MAAMA,EAAS,IAAIC,EAEbC,EAAS,CACb,CAAE,OAAQ,KAAM,OAAQ,CAAG,EAC3B,CAAE,OAAQ,KAAM,OAAQ,CAAG,EAC3B,CAAE,OAAQ,KAAM,OAAQ,CAAG,EAC3B,CAAE,OAAQ,IAAK,OAAQ,CAAG,EAC1B,CAAE,OAAQ,KAAM,OAAQ,CAAG,EAC3B,CAAE,OAAQ,MAAO,OAAQ,CAAG,EAC5B,CAAE,OAAQ,KAAM,OAAQ,CAAG,CAC7B,EAEMC,EAAQ,CACZ,MAAO,SAAS,cAAc,QAAQ,EACtC,MAAO,SAAS,cAAc,QAAQ,EACtC,MAAO,SAAS,cAAc,QAAQ,CACxC,EACMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAO,SAAS,cAAc,OAAO,EAErCC,EAAS,CAAA,EACf,IAAIC,EAAc,EAClB,SAASC,GAAa,CACpBF,EAAO,OAAS,EAChB,IAAIG,EAAM,EAEVP,EAAO,QAAQQ,GAAQ,CACrB,MAAMC,EAAQ,CACZ,OAAQD,EAAK,OACb,MAAOD,EACP,IAAKA,EAAMC,EAAK,OAAS,CAC/B,EAEIJ,EAAO,KAAKK,CAAK,EACjBF,GAAOC,EAAK,MAChB,CAAG,EAEDH,EAAcE,EAEd,QAAQ,IAAIH,CAAM,EAClB,QAAQ,IAAIC,CAAW,CACzB,CAEAC,IAEAJ,EAAW,iBAAiB,QAASQ,GAAK,CACxCR,EAAW,aAAa,WAAY,EAAE,EACtC,OAAO,KAAKD,CAAK,EAAE,QAAQ,CAACU,EAAMC,IAAU,CAC1C,WAAW,IAAM,CACfX,EAAMU,CAAI,EAAE,YAAcE,EAAe,CAC/C,EAAO,IAAMD,CAAK,CAClB,CAAG,EAED,WAAW,IAAM,CACfV,EAAW,gBAAgB,WAAY,EAAE,EACzCY,GACJ,EAAK,IAAM,CAAC,CACZ,CAAC,EAED,SAASA,GAAU,CACjB,MAAMC,EAAKd,EAAM,MAAM,YACjBe,EAAKf,EAAM,MAAM,YACjBgB,EAAKhB,EAAM,MAAM,YAEnBc,IAAOC,GAAMA,IAAOC,EACtBd,EAAK,YAAc,WACVY,IAAOC,GAAMA,IAAOC,GAAMF,IAAOE,EAC1Cd,EAAK,YAAc,YAEnBA,EAAK,YAAc,wBAEvB,CAEA,SAASU,GAAkB,CACzB,MAAMK,EAAcpB,EAAO,QAAQ,EAAGO,EAAc,CAAC,EACrD,OAAOD,EAAO,KACZe,GAAQA,EAAK,OAASD,GAAeC,EAAK,KAAOD,CAClD,EAAC,MACJ"}