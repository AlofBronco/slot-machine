{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import { Random } from 'random-js';\nconst random = new Random();\n\nconst prizes = [\n  { symbol: '🪙', weight: 5 },\n  { symbol: '🍒', weight: 4 },\n  { symbol: '🍋', weight: 6 },\n  { symbol: '⭐', weight: 5 },\n  { symbol: '💵', weight: 3 },\n  { symbol: '7️⃣', weight: 1 },\n  { symbol: '🔔', weight: 7 },\n];\n\nconst slots = {\n  slot1: document.querySelector('.slot1'),\n  slot2: document.querySelector('.slot2'),\n  slot3: document.querySelector('.slot3'),\n};\nconst spinButton = document.querySelector('.spin-button');\nconst text = document.querySelector('.text');\n\nconst ranges = [];\nlet totalWeight = 0;\nfunction calcRanges() {\n  ranges.length = 0;\n  let acc = 0;\n\n  prizes.forEach(curr => {\n    const range = {\n      symbol: curr.symbol,\n      start: acc,\n      end: acc + curr.weight - 1,\n    };\n\n    ranges.push(range);\n    acc += curr.weight;\n  });\n\n  totalWeight = acc;\n\n  console.log(ranges);\n  console.log(totalWeight);\n}\n\ncalcRanges();\n\nspinButton.addEventListener('click', e => {\n  spinButton.setAttribute('disabled', '');\n  Object.keys(slots).forEach((slot, index) => {\n    setTimeout(() => {\n      slots[slot].textContent = getRandomSymbol();\n    }, 200 * index);\n  });\n\n  setTimeout(() => {\n    spinButton.removeAttribute('disabled', '');\n  }, 210 * 3);\n});\n\nfunction getRandomSymbol() {\n  const randomValue = random.integer(0, totalWeight - 1);\n  return ranges.find(\n    elem => elem.start <= randomValue && elem.end >= randomValue\n  ).symbol;\n}\n"],"names":["random","Random","prizes","slots","spinButton","ranges","totalWeight","calcRanges","acc","curr","range","e","slot","index","getRandomSymbol","randomValue","elem"],"mappings":"svBACA,MAAMA,EAAS,IAAIC,EAEbC,EAAS,CACb,CAAE,OAAQ,KAAM,OAAQ,CAAG,EAC3B,CAAE,OAAQ,KAAM,OAAQ,CAAG,EAC3B,CAAE,OAAQ,KAAM,OAAQ,CAAG,EAC3B,CAAE,OAAQ,IAAK,OAAQ,CAAG,EAC1B,CAAE,OAAQ,KAAM,OAAQ,CAAG,EAC3B,CAAE,OAAQ,MAAO,OAAQ,CAAG,EAC5B,CAAE,OAAQ,KAAM,OAAQ,CAAG,CAC7B,EAEMC,EAAQ,CACZ,MAAO,SAAS,cAAc,QAAQ,EACtC,MAAO,SAAS,cAAc,QAAQ,EACtC,MAAO,SAAS,cAAc,QAAQ,CACxC,EACMC,EAAa,SAAS,cAAc,cAAc,EAC3C,SAAS,cAAc,OAAO,EAE3C,MAAMC,EAAS,CAAA,EACf,IAAIC,EAAc,EAClB,SAASC,GAAa,CACpBF,EAAO,OAAS,EAChB,IAAIG,EAAM,EAEVN,EAAO,QAAQO,GAAQ,CACrB,MAAMC,EAAQ,CACZ,OAAQD,EAAK,OACb,MAAOD,EACP,IAAKA,EAAMC,EAAK,OAAS,CAC/B,EAEIJ,EAAO,KAAKK,CAAK,EACjBF,GAAOC,EAAK,MAChB,CAAG,EAEDH,EAAcE,EAEd,QAAQ,IAAIH,CAAM,EAClB,QAAQ,IAAIC,CAAW,CACzB,CAEAC,IAEAH,EAAW,iBAAiB,QAASO,GAAK,CACxCP,EAAW,aAAa,WAAY,EAAE,EACtC,OAAO,KAAKD,CAAK,EAAE,QAAQ,CAACS,EAAMC,IAAU,CAC1C,WAAW,IAAM,CACfV,EAAMS,CAAI,EAAE,YAAcE,EAAe,CAC/C,EAAO,IAAMD,CAAK,CAClB,CAAG,EAED,WAAW,IAAM,CACfT,EAAW,gBAAgB,WAAY,EAAE,CAC7C,EAAK,IAAM,CAAC,CACZ,CAAC,EAED,SAASU,GAAkB,CACzB,MAAMC,EAAcf,EAAO,QAAQ,EAAGM,EAAc,CAAC,EACrD,OAAOD,EAAO,KACZW,GAAQA,EAAK,OAASD,GAAeC,EAAK,KAAOD,CAClD,EAAC,MACJ"}